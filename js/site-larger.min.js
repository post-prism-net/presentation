var site=function(){{var a,b,c=function(){debuglog("site.init()"),d(),h.init(),f.init(),g.init(),e.init()},d=function(){},e=function(){var c,d,e,h,i,j=1.5,k=function(){debuglog("site.win.init()"),c=$(window),e=c.height(),h=!1,a=!1,b=!1,l(),m()},l=function(){c.on("resize",function(){i&&clearTimeout(i),i=setTimeout(p,1e3)})},m=function(){var a=d;d=c.scrollTop(),d!=a?(b=!0,n()):b=!1,requestAnimationFramePolyfill(m)},n=function(){debuglog("site.win.scroll()"),f.check(d,e);var a=h;h=d>e/4?!1:!0,a!=h&&(debuglog("splash state changed: "+h),h?$("body").addClass("home"):$("body").removeClass("home"))},o=function(c,e){if(debuglog("site.win.scrollTo"),c.length>0&&!b){var e=e||0,f=c.position().top-e,g=Math.floor(Math.abs(f-d)),h=Math.floor(g/j);debuglog("position: "+f),debuglog("duration: "+h),a=!0,$("html,body").animate({scrollTop:f},h,"easeInOutQuart",function(){a=!1})}},p=function(){g.init(),f.init(),k(),n()};return{init:function(){k()},scrollTo:function(a,b){o(a,b)},resize:function(){p()}}}(),f=function(){var b,c,d=new Array,e=function(){debuglog("site.sections.init()"),f(),i()},f=function(){},i=function(){$("section").each(function(){var a=new Array;a.slug=$(this).attr("data-section"),a.offset=Math.floor($(this).position().top),d.push(a)}),debuglog(d)},j=function(a,e){for(var f=0;f<d.length;f++)a>d[f].offset-2*e/3&&(b=d[f].slug);b!=c&&k(b),c=b},k=function(b){debuglog("site.sections.change( "+b+" )"),g.mark(b),c&&!a&&h.set(b)};return{init:function(){e()},check:function(a,b){return j(a,b)}}}(),g=function(){var a,b,c=function(){debuglog("site.nav.init()"),a=$("nav"),b=void 0,d()},d=function(){},e=function(c){if(debuglog("site.nav.mark( "+c+" )"),c!=b){a.find("a").not('[href$="#/'+c+'"]').closest("li").removeClass("current"),a.find('[href$="#/'+c+'"]').closest("li").addClass("current");var d=a.find("li").index(a.find(".current"))+1;a.find("ul").attr("class","").addClass("current-"+d),b=c}};return{init:function(){c()},mark:function(a){e(a)}}}(),h=function(){var a,b,c=function(){b=$('[href^="#"]'),f(),g(),d(),i($.address.value())},d=function(){$.address.externalChange(function(){i($.address.value())})},f=function(){debuglog("site.path.saveLinks()"),b.not("[data-url]").each(function(){$(this).attr("data-url",$(this).attr("href"))})},g=function(){debuglog("site.path.rewriteLinks()"),b.each(function(){var a=$(this),b=a.attr("href").replace("#","");b="#/"+b,a.attr("href",b)})},h=function(a){debuglog("site.path.set( "+a+" )"),$.address.path(a)},i=function(b){debuglog("path.checkPath("+b+")");var b=b||"";if(b=b.split("/"),a=b[1]||"home"){var c=$("#"+a);e.scrollTo(c)}};return{init:function(){c()},set:function(a){h(a)}}}();!function(){var a=function(){debuglog("site.module.init()"),b()},b=function(){};return{init:function(){a()}}}()}return{init:function(){c()}}}();$(document).ready(function(){debuglog("site-larger.js loaded..."),debuglog(config.blogurl),site.init()});